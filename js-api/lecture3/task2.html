<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Lecture 3. Task 2</title>
</head>

<body>
	<h1>Список товаров</h1>
	<label for="sort-select">Сортировка:</label>
	<select id="sort-select">
		<option value="">Выберите сортировку</option>
		<option value="asc">По возрастанию цены</option>
		<option value="desc">По убыванию цены</option>
	</select>

	<ul id="product-list">
		<li class="product-item">Товар 1 - $50</li>
		<li class="product-item">Товар 2 - $30</li>
		<li class="product-item">Товар 3 - $70</li>
		<li class="product-item">Товар 4 - $20</li>
	</ul>

	<script>
		const sortSelect = document.querySelector('#sort-select'); // Получение ссылки на элемент select
		const productList = document.querySelector('#product-list'); // Получение ссылки на список товаров
		const productItems = Array.from(document.querySelectorAll('.product-item')); // Получение ссылок на все элементы списка товаров

		sortSelect.onchange = function () {
			const selectedOption = sortSelect.value; // Получение выбранной опции сортировки
			if (selectedOption === 'asc') {
				productItems.sort((a, b) => {
					const priceA = parseInt(a.textContent.split('- $')[1]); //Извлечение цены из текстового содержимого элемента
					const priceB = parseInt(b.textContent.split('- $')[1]); //Извлечение цены из текстового содержимого элемента
					return priceA - priceB;
				});
			} else if (selectedOption === "desc") {
				productItems.sort((a, b) => {
					const priceA = parseInt(a.textContent.split('- $')[1]); //Извлечение цены из текстового содержимого элемента
					const priceB = parseInt(b.textContent.split('- $')[1]); //Извлечение цены из текстового содержимого элемента
					return priceB - priceA;
				});
			}

			productItems.forEach(item => productList.appendChild(item));

		};

	</script>

</body>

</html>